<!DOCTYPE html>
<html>
<head>
	<title> Sandbox </title>
	<script type="application/javascript" src="/src/engine/BoundingBox.js">	</script>
	<script type="application/javascript" src="/src/engine/QuadTree2.js">	</script>
	<script type="application/javascript" src="/src/engine/Canvas2d.js">	</script>
	<script type="application/javascript" src="/src/engine/Debug.js">	</script>
	<style>body { background-color: rgb(150, 150, 200);</style>
</head>
<body>
	<script type="application/javascript">

		var objs = [
			/*{ bb: new BoundingBox(27, 20, 0, 2, 2, 0) }*//*,
			{ bb: new BoundingBox(60, 25, 0, 2, 2, 0) },
			{ bb: new BoundingBox(125, 25, 0, 2, 2, 0) },
			{ bb: new BoundingBox(150, 25, 0, 2, 2, 0) }*/
		];
		var objects = 5000;
		var maxDepth = 4;
		for(var i = 0; i < objects; i++ ) {
			objs.push({ x :Math.floor(Math.random() * 200), y: Math.floor(Math.random() * 200), width: 1 + Math.floor(Math.random() * 15), height: 1 + Math.floor(Math.random() * 15) });
		}
		var canvas = craw({w: 500, h: 500});

		/*var p = new Profiler("quadtree");
		p.start();
		for(var i = 0; i < 1000; i++) {
			var tree = new QuadTree(5, 0, 0, 200, 200, objs);
			var set = tree.get(new BoundingBox(5, 5, 0, 50, 50, 0));
		}
		p.stop();*/
		var myTree = new Quadtree({
			x: 0,
			y: 0,
			width: 200,
		    height: 200
		}, 10, 4);

		for(var i=0; i<objects;i++) {
		  myTree.insert(objs[i]);
		}
		
		var p = new Profiler("quadtree");
		p.start();
		

		
		
		for(var i=0; i<objects;i++) {
		  var set = myTree.retrieve({x: 5, y: 5, width: 50, height: 50});
		}
		var m = p.stop();
		alert(m + "ms")
		//console.log(set);
	</script>
</body>
</html>